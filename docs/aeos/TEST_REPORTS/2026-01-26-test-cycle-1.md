# AEOS Test Report: Full Test Cycle #1

> **Date:** 2026-01-26  
> **Tester:** PE-1 (Principal Engineer)  
> **Test Types:** Boot Test + Runtime Test + Toolchain Test

---

## Executive Summary

| Test           | Status     | Critical Issues                  |
| -------------- | ---------- | -------------------------------- |
| Boot Test      | ⚠️ Partial | PE token missing `project` scope |
| Runtime Test   | ✅ Pass    | Workflow operating correctly     |
| Toolchain Test | ✅ Pass    | CI, MCP, secrets all verified    |

**Overall Result:** ⚠️ **PASS WITH FIXES** — One human action required

---

## Boot Test (From-Zero Simulation)

### What Was Tried

Following `docs/aeos/BOOT_PROCEDURE.md` exactly as a fresh agent:

1. ✅ Check git status
2. ✅ Run Agent: Health check task
3. ❌ Authenticate as PE with documented path (wrong path)
4. ✅ Authenticate as PE with actual path
5. ✅ Verify repo access
6. ✅ Load MCP Memory
7. ❌ Access project board (missing scope)
8. ✅ Run pnpm check (TypeScript)
9. ✅ Run pnpm test (all 99 tests pass)

### Friction Points Found

#### 1. **PE Config Directory Path Mismatch** (FIXED)

**Problem:** Docs said `.gh-Principle-Engineer-Agent`, actual is `.gh-principal-engineer-agent`

**Fix Applied:** Updated all docs with correct lowercase path.

#### 2. **PE Token Missing `project` Scope** (REQUIRES HUMAN)

**Problem:** PE token has `repo, workflow, gist, read:org` but missing `project`.

**Fix Required:** Human must run:

```powershell
$env:GH_CONFIG_DIR = "C:/Users/sirja/.gh-principal-engineer-agent"
gh auth refresh -s project
```

#### 3. **Required Token Scopes Not Documented** (FIXED)

**Fix Applied:** Added "Required Token Scopes" section to IDENTITY_SYSTEM.md.

---

## Runtime Test (Issue → PR → Merge Loop)

### What Was Verified

1. ✅ Board accessible via TL account
2. ✅ Open Issues visible (5 open)
3. ✅ Issue #250 shows correct workflow:
   - Status: In Progress
   - Claimed by Software-Engineer-Agent
   - Claim comment posted
4. ✅ Worktree exists: `wt-impl-250-role-scope-tests`
5. ✅ Branch exists: `agent/swe-4/250-role-scope-tests`
6. ✅ PR workflow working (multiple recent PRs from agents)

### Observations

- Issue #250 claimed but no PR yet (work in progress)
- Worktree is 4 commits behind staging (normal during development)
- Other agent PRs (#271, #272, #273) demonstrate workflow is operational

---

## Toolchain Test

### CI/CD

| Check                  | Status | Evidence                    |
| ---------------------- | ------ | --------------------------- |
| GitHub Actions running | ✅     | 5 recent runs visible       |
| Tests passing          | ✅     | Last test run: ✓            |
| CodeQL scanning        | ✅     | Active on PRs               |
| Dependabot             | ✅     | PRs #275-278 auto-generated |

### MCP Memory

| Check               | Status | Evidence                                  |
| ------------------- | ------ | ----------------------------------------- |
| Server responding   | ✅     | `mcp_memory_read_graph` works             |
| Entities persisted  | ✅     | All agents and patterns present           |
| Search working      | ✅     | `mcp_memory_search_nodes` returns results |
| AEOS category added | ✅     | New entity created successfully           |

### Secrets Management

| Check                  | Status | Evidence                                        |
| ---------------------- | ------ | ----------------------------------------------- |
| `.env` gitignored      | ✅     | `git check-ignore .env` returns path            |
| No real tokens in code | ✅     | Only placeholder values found                   |
| Example files safe     | ✅     | `.env.example` has `user:password` placeholders |

---

## Fixes Applied This Cycle

| File                                         | Change                                              |
| -------------------------------------------- | --------------------------------------------------- |
| `docs/aeos/BOOT_PROCEDURE.md`                | Fixed PE config directory path                      |
| `docs/aeos/IDENTITY_SYSTEM.md`               | Fixed all config paths, added Required Token Scopes |
| `AGENTS.md`                                  | Fixed PE config directory path                      |
| `.github/agents/principal-engineer.agent.md` | Fixed PE config directory path                      |

### Pattern Added to MCP Memory

```
AgentAuthScopesRequired:
- All agent accounts need: repo, workflow, project
- Use: gh auth login -w -s repo,workflow,project
- Use: gh auth refresh -s project to add missing scope
```

---

## Remaining Risks

| Risk                                       | Severity | Owner | Resolution                       |
| ------------------------------------------ | -------- | ----- | -------------------------------- |
| PE token missing `project` scope           | HIGH     | Human | Run `gh auth refresh -s project` |
| SE-1 MCP data is test data, not real agent | LOW      | PE    | Will clear when spawning real SE |

---

## Evidence

### Health Check

```
=== Agent Health Check ===
[Terminal] echo: PASS
[Git] git status: PASS
[GitHub CLI] gh auth: PASS
[Node/pnpm] node: v22.21.0, pnpm: 10.15.1
[Repo State] branch: staging, working tree: dirty (17 files)
=== Done ===
```

### Test Suite

```
Test Files  19 passed (19)
Tests       99 passed (99)
Duration    7.53s
```

### Board State

```
#76   Verifier: Run post-merge gates...  Todo
#77   Browser: Deployed staging smoke... Todo
#250  Test: Role-scope verification...   In Progress (SE claimed)
```

### CI Status

```
✓ Test and Code Coverage    2m56s
✓ Verification Gate         11s
✓ CodeQL Scanning           1m45s
```

---

## Next Test Cycle

1. **Human Action:** Add `project` scope to PE token
2. **Boot Test:** Verify PE can access board after scope fix
3. **Runtime Test:** Complete Issue #250 → PR → Merge → Done
4. **Stress Test:** Spawn multiple SE agents, verify heartbeat monitoring
